name: Check code style

on: [push, pull_request]   # yamllint disable-line rule:truthy

jobs:
  style-check:

    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v6
        with:
          fetch-depth: 1
          show-progress: false
      - name: Install markdownlint-cli2
        run: |
          sudo apt -qqy install npm
          npm install markdownlint-cli2 --global
      - name: Install shfmt
        run: sudo apt -qyy install shfmt
      - name: make showvars
        run: make showvars
      - run: html-style-check
      - run: markdown-style-check
      - run: perl-style-check
      - run: python-style-check python-typecheck
      - run: shell-style-check
      - run: yaml-style-check
      - name: make style-check
        run: make style-check
